@import "tailwindcss";

/* 
  NEW: Use CSS variables for core colors and toggle them with .dark.
  This avoids relying on @apply dark:... inside CSS rules, which can be flaky.
*/

:root {
  color-scheme: light dark;
  --bg: #f9fafb;        /* gray-50 */
  --fg: #111827;        /* gray-900 */
  --card: #ffffff;      /* white */
  --card-border: #e5e7eb; /* gray-200 */
  --muted: #6b7280;     /* gray-500 */
}

.dark {
  --bg: #111827;          /* gray-900 */
  --fg: #f9fafb;          /* gray-50 */
  --card: #1f2937;        /* gray-800 */
  --card-border: #374151; /* gray-700 */
  --muted: #9ca3af;       /* gray-400/300 */
}

/* Base layout colors now follow variables */
body {
  background-color: var(--bg);
  color: var(--fg);
}

/* Utility classes you used as "card", "btn", etc. */
.container { @apply max-w-5xl mx-auto px-4 py-8; }

/* Card uses variables instead of dark: @apply */
.card {
  background-color: var(--card);
  border: 1px solid var(--card-border);
  border-radius: 1rem;           /* rounded-2xl */
  padding: 1.25rem;              /* p-5 */
  box-shadow: 0 10px 30px rgba(0,0,0,0.06);
  color: var(--fg);              /* <-- force readable text in both themes */
}

/* NEW: propagate text color by default inside cards */
.card * {
  color: inherit;                /* <-- prevents random overrides */
}

/* NEW: explicit helpers */
.temp  { color: var(--fg); }     /* big temperature value */
.muted { color: var(--muted); }  /* small/secondary text */

.btn {
  @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 active:scale-95;
}

.input {
  @apply w-full rounded-xl border px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500;
  background-color: var(--card);
  border-color: var(--card-border);
  color: var(--fg);
}

.badge {
  display: inline-block;
  border-radius: 0.5rem;
  padding: 0.125rem 0.5rem;
  font-size: 0.75rem;
  background-color: rgba(59,130,246,0.12); /* blue-500/12 */
  color: #2563eb; /* blue-600 */
}

/* Optional: muted text helper */
.text-muted { color: var(--muted); }

/* Preserve Tailwind utilities you use in JSX (e.g., grid, flex), they still work normally. */
.tile {
  background-color: var(--card);
  border: 1px solid var(--card-border);
  border-radius: 0.75rem; /* rounded-xl */
  padding: 0.75rem;       /* p-3 */
  color: var(--fg);       /* ensure readable text */
}
.tile * { color: inherit; }   /* inherit color inside the tile */

/* already added earlier, but keep here for clarity */
.temp  { color: var(--fg); }
.muted { color: var(--muted); }